This software prompts the user to provide 6 inputs for the geometry of a clamp to be used in milling workholding applications. The software also prompts for several machining parameters. The software then generates a CNC milling G-code program which will machine the clamp. 

The generated program only controls feed motions and feedrate speeds. Other control-specific parameters, such as spindle speed, coolant control, tool numbers, etc. will have to be manually added to this program before running it in the CNC machine.

Here is a preview image of a toolpath generated by Mill-Clamp. The view is from a diagonal perspective to the flat surface of the material stock. Feed motions are represented with white lines. Rapid motions are represented with red lines.
![Toolpath Preview](/img/Toolpath-Preview.png)

Here is an image of a setup for machining a clamp. The outer profile of the clamp is being machined, and the slot and height adjustment hole have already been machined. 3 smaller clamps on the right are fixturing the workpiece to the workholding table.
![Use Case](/img/Use-Case.png)

In order to run this sofware and generate a CNC program, you must first be able to navigate your computer's file directory and execute commands from a console, and you must have Ruby 2.0.0 installed. Other Ruby versions may work as well, but are untested.

To run the software, first download the .zip file and extract the contents to a directory of your choice. Then, access that directory from your console and execute:

```bash
ruby Mill-Clamp.rb
```

You will be prompted for several inputs that include the following dimension references. Press Enter after entering the desired value.
![Geometry Drawing](/img/Clamp-Drawing.png)

Here is an example of a console session for generating the CNC program:

ruby Mill-Clamp.rb

(Dimension #1): What is the length of the clamp?
2.75

(Dimension #2): What is the width of the clamp?
1.5

(Dimension #3): There will be a hole for housing the height adjustment screw. What is the diameter of this height adjustment screw hole?
0.325

(Dimension #4): There will be a slot for the fastening screw. One end of the slot (at the center of the slot end's radius) will have a certain distance to the height adjustment screw hole. What is this distance?
0.5

(Dimension #5): The opposite end of the slot will have a certain distance to the end of the clamp. What is this distance?
0.5

(Dimension #6): How wide is the slot?
0.2

(Dimension #7): What is the thickness of the material stock?
0.8

What is the tool radius?
0.0625

What is the XY end-milling feedrate?
10.0

What is the Z plunge feedrate?
10.0

What is the axial depth of cut?
0.0625

What is a safe Z height that the tool will retract to before rapid feed to a new XY location?
0.25

When setting up the CNC milling machine, follow these instructions: Use a slot drill (an end mill that can plunge in -Z). Set X=0 and Y=0 on the workpiece such that the Cartesian quadrant within X>0 and Y>0 is solid workpiece material. When running the CNC program, start with the tool at X=0, Y=0, and Z=0.

Here is your CNC program: (Edit this to add spindle speed, coolant control, tool numbers, etc. as necessary)

   G91  
   G0Z0.25  
   G90  
   G0X0.75Y2.0  
   G91  
   G0Z-0.188  
   G1Z-0.125F10.0  
   G90  
   G1X0.813F10.0  
   G3X0.813Y2.0I-0.063J0.0F10.0  
   G1X0.65F10.0  
   G3X0.65Y2.0I0.1J0.0F10.0  
   G91  
   G0Z0.25  
   G90  
   G0X0.75Y2.0  
   G91  
   G0Z-0.188  
   G1Z-0.125F10.0  
   G90  
   G1X0.813F10.0  
   G3X0.813Y2.0I-0.063J0.0F10.0  
   G1X0.65F10.0  
   G3X0.65Y2.0I0.1J0.0F10.0  
   G91  
   G0Z0.25  
   G90  
   G0X0.75Y2.0  
   G91  
   G0Z-0.188  
   G1Z-0.125F10.0  
   G90  
   G1X0.813F10.0  
   G3X0.813Y2.0I-0.063J0.0F10.0  
   G1X0.65F10.0  
   G3X0.65Y2.0I0.1J0.0F10.0  
   G91  
   G0Z0.25  
   G90  
   G0X0.75Y2.0  
   G91  
   G0Z-0.188  
   G1Z-0.125F10.0  
   G90  
   G1X0.813F10.0  
   G3X0.813Y2.0I-0.063J0.0F10.0  
   G1X0.65F10.0  
   G3X0.65Y2.0I0.1J0.0F10.0  
   G91  
   G0Z0.25  
   G90  
   G0X0.75Y2.0  
   G91  
   G0Z-0.188  
   G1Z-0.125F10.0  
   G90  
   G1X0.813F10.0  
   G3X0.813Y2.0I-0.063J0.0F10.0  
   G1X0.65F10.0  
   G3X0.65Y2.0I0.1J0.0F10.0  
   G91  
   G0Z0.25  
   G90  
   G0X0.75Y2.0  
   G91  
   G0Z-0.188  
   G1Z-0.125F10.0  
   G90  
   G1X0.813F10.0  
   G3X0.813Y2.0I-0.063J0.0F10.0  
   G1X0.65F10.0  
   G3X0.65Y2.0I0.1J0.0F10.0  
   G91  
   G0Z0.25  
   G90  
   G0X0.75Y2.0  
   G91  
   G0Z-0.188  
   G1Z-0.125F10.0  
   G90  
   G1X0.813F10.0  
   G3X0.813Y2.0I-0.063J0.0F10.0  
   G1X0.65F10.0  
   G3X0.65Y2.0I0.1J0.0F10.0  
   G91  
   G0Z0.25  
   G90  
   G0X0.75Y2.0  
   G91  
   G0Z-0.188  
   G1Z-0.125F10.0  
   G90  
   G1X0.813F10.0  
   G3X0.813Y2.0I-0.063J0.0F10.0  
   G1X0.65F10.0  
   G3X0.65Y2.0I0.1J0.0F10.0  
   G91  
   G0Z0.25  
   G90  
   G0X0.75Y2.0  
   G91  
   G0Z-0.188  
   G1Z-0.125F10.0  
   G90  
   G1X0.813F10.0  
   G3X0.813Y2.0I-0.063J0.0F10.0  
   G1X0.65F10.0  
   G3X0.65Y2.0I0.1J0.0F10.0  
   G91  
   G0Z0.25  
   G90  
   G0X0.75Y2.0  
   G91  
   G0Z-0.188  
   G1Z-0.125F10.0  
   G90  
   G1X0.813F10.0  
   G3X0.813Y2.0I-0.063J0.0F10.0  
   G1X0.65F10.0  
   G3X0.65Y2.0I0.1J0.0F10.0  
   G91  
   G0Z0.25  
   G90  
   G0X0.75Y2.0  
   G91  
   G0Z-0.188  
   G1Z-0.125F10.0  
   G90  
   G1X0.813F10.0  
   G3X0.813Y2.0I-0.063J0.0F10.0  
   G1X0.65F10.0  
   G3X0.65Y2.0I0.1J0.0F10.0  
   G91  
   G0Z0.25  
   G90  
   G0X0.75Y2.0  
   G91  
   G0Z-0.188  
   G1Z-0.125F10.0  
   G90  
   G1X0.813F10.0  
   G3X0.813Y2.0I-0.063J0.0F10.0  
   G1X0.65F10.0  
   G3X0.65Y2.0I0.1J0.0F10.0  
   G91  
   G0Z0.25  
   G90  
   G0X0.75Y2.0  
   G91  
   G0Z-0.188  
   G1Z-0.125F10.0  
   G90  
   G1X0.813F10.0  
   G3X0.813Y2.0I-0.063J0.0F10.0  
   G1X0.65F10.0  
   G3X0.65Y2.0I0.1J0.0F10.0  
   G91  
   G0Z0.25  
   G90  
   G0X0.75Y2.0  
   G91  
   G0Z-0.188  
   G1Z-0.125F10.0  
   G90  
   G1X0.813F10.0  
   G3X0.813Y2.0I-0.063J0.0F10.0  
   G1X0.65F10.0  
   G3X0.65Y2.0I0.1J0.0F10.0  
   G91  
   G0Z0.25  
   G90  
   G0X0.75Y2.0  
   G91  
   G0Z-0.188  
   G1Z-0.125F10.0  
   G90  
   G1X0.813F10.0  
   G3X0.813Y2.0I-0.063J0.0F10.0  
   G1X0.65F10.0  
   G3X0.65Y2.0I0.1J0.0F10.0  
   G0Z0.0  
   G91  
   G0Z0.25  
   G90  
   G0X0.75Y1.5  
   G91  
   G0Z-0.188  
   G1Z-0.125F10.0  
   G90  
   G1Y0.5F10.0  
   G1X0.788F10.0  
   G1Y1.5F10.0  
   G3X0.713I-0.038J0.0F10.0  
   G1Y0.5F10.0  
   G3X0.788I0.038F10.0  
   G91  
   G0Z0.25  
   G90  
   G0X0.75Y1.5  
   G91  
   G0Z-0.188  
   G1Z-0.125F10.0  
   G90  
   G1Y0.5F10.0  
   G1X0.788F10.0  
   G1Y1.5F10.0  
   G3X0.713I-0.038J0.0F10.0  
   G1Y0.5F10.0  
   G3X0.788I0.038F10.0  
   G91  
   G0Z0.25  
   G90  
   G0X0.75Y1.5  
   G91  
   G0Z-0.188  
   G1Z-0.125F10.0  
   G90  
   G1Y0.5F10.0  
   G1X0.788F10.0  
   G1Y1.5F10.0  
   G3X0.713I-0.038J0.0F10.0  
   G1Y0.5F10.0  
   G3X0.788I0.038F10.0  
   G91  
   G0Z0.25  
   G90  
   G0X0.75Y1.5  
   G91  
   G0Z-0.188  
   G1Z-0.125F10.0  
   G90  
   G1Y0.5F10.0  
   G1X0.788F10.0  
   G1Y1.5F10.0  
   G3X0.713I-0.038J0.0F10.0  
   G1Y0.5F10.0  
   G3X0.788I0.038F10.0  
   G91  
   G0Z0.25  
   G90  
   G0X0.75Y1.5  
   G91  
   G0Z-0.188  
   G1Z-0.125F10.0  
   G90  
   G1Y0.5F10.0  
   G1X0.788F10.0  
   G1Y1.5F10.0  
   G3X0.713I-0.038J0.0F10.0  
   G1Y0.5F10.0  
   G3X0.788I0.038F10.0  
   G91  
   G0Z0.25  
   G90  
   G0X0.75Y1.5  
   G91  
   G0Z-0.188  
   G1Z-0.125F10.0  
   G90  
   G1Y0.5F10.0  
   G1X0.788F10.0  
   G1Y1.5F10.0  
   G3X0.713I-0.038J0.0F10.0  
   G1Y0.5F10.0  
   G3X0.788I0.038F10.0  
   G91  
   G0Z0.25  
   G90  
   G0X0.75Y1.5  
   G91  
   G0Z-0.188  
   G1Z-0.125F10.0  
   G90  
   G1Y0.5F10.0  
   G1X0.788F10.0  
   G1Y1.5F10.0  
   G3X0.713I-0.038J0.0F10.0  
   G1Y0.5F10.0  
   G3X0.788I0.038F10.0  
   G91  
   G0Z0.25  
   G90  
   G0X0.75Y1.5  
   G91  
   G0Z-0.188  
   G1Z-0.125F10.0  
   G90  
   G1Y0.5F10.0  
   G1X0.788F10.0  
   G1Y1.5F10.0  
   G3X0.713I-0.038J0.0F10.0  
   G1Y0.5F10.0  
   G3X0.788I0.038F10.0  
   G91  
   G0Z0.25  
   G90  
   G0X0.75Y1.5  
   G91  
   G0Z-0.188  
   G1Z-0.125F10.0  
   G90  
   G1Y0.5F10.0  
   G1X0.788F10.0  
   G1Y1.5F10.0  
   G3X0.713I-0.038J0.0F10.0  
   G1Y0.5F10.0  
   G3X0.788I0.038F10.0  
   G91  
   G0Z0.25  
   G90  
   G0X0.75Y1.5  
   G91  
   G0Z-0.188  
   G1Z-0.125F10.0  
   G90  
   G1Y0.5F10.0  
   G1X0.788F10.0  
   G1Y1.5F10.0  
   G3X0.713I-0.038J0.0F10.0  
   G1Y0.5F10.0  
   G3X0.788I0.038F10.0  
   G91  
   G0Z0.25  
   G90  
   G0X0.75Y1.5  
   G91  
   G0Z-0.188  
   G1Z-0.125F10.0  
   G90  
   G1Y0.5F10.0  
   G1X0.788F10.0  
   G1Y1.5F10.0  
   G3X0.713I-0.038J0.0F10.0  
   G1Y0.5F10.0  
   G3X0.788I0.038F10.0  
   G91  
   G0Z0.25  
   G90  
   G0X0.75Y1.5  
   G91  
   G0Z-0.188  
   G1Z-0.125F10.0  
   G90  
   G1Y0.5F10.0  
   G1X0.788F10.0  
   G1Y1.5F10.0  
   G3X0.713I-0.038J0.0F10.0  
   G1Y0.5F10.0  
   G3X0.788I0.038F10.0  
   G91  
   G0Z0.25  
   G90  
   G0X0.75Y1.5  
   G91  
   G0Z-0.188  
   G1Z-0.125F10.0  
   G90  
   G1Y0.5F10.0  
   G1X0.788F10.0  
   G1Y1.5F10.0  
   G3X0.713I-0.038J0.0F10.0  
   G1Y0.5F10.0  
   G3X0.788I0.038F10.0  
   G91  
   G0Z0.25  
   G90  
   G0X0.75Y1.5  
   G91  
   G0Z-0.188  
   G1Z-0.125F10.0  
   G90  
   G1Y0.5F10.0  
   G1X0.788F10.0  
   G1Y1.5F10.0  
   G3X0.713I-0.038J0.0F10.0  
   G1Y0.5F10.0  
   G3X0.788I0.038F10.0  
   G91  
   G0Z0.25  
   G90  
   G0X0.75Y1.5  
   G91  
   G0Z-0.188  
   G1Z-0.125F10.0  
   G90  
   G1Y0.5F10.0  
   G1X0.788F10.0  
   G1Y1.5F10.0  
   G3X0.713I-0.038J0.0F10.0  
   G1Y0.5F10.0  
   G3X0.788I0.038F10.0  
   G0Z0.0  
   G91  
   G0Z0.25  
   G90  
   G0X1.563Y0.375  
   G91  
   G0Z-0.188  
   G1Z-0.063F10.0  
   G91  
   G1Z-0.063F10.0  
   G90  
   G2X1.125Y-0.063I-0.438J0.0F10.0  
   G1X0.375F10.0  
   G2X-0.063Y0.375I0.0J0.438F10.0  
   G1Y2.0F10.0  
   G2X1.563Y2.0I0.813J0.0F10.0  
   G1X1.563Y0.375F10.0  
   G91  
   G1Z-0.063F10.0  
   G90  
   G2X1.125Y-0.063I-0.438J0.0F10.0  
   G1X0.375F10.0  
   G2X-0.063Y0.375I0.0J0.438F10.0  
   G1Y2.0F10.0  
   G2X1.563Y2.0I0.813J0.0F10.0  
   G1X1.563Y0.375F10.0  
   G91  
   G1Z-0.063F10.0  
   G90  
   G2X1.125Y-0.063I-0.438J0.0F10.0  
   G1X0.375F10.0  
   G2X-0.063Y0.375I0.0J0.438F10.0  
   G1Y2.0F10.0  
   G2X1.563Y2.0I0.813J0.0F10.0  
   G1X1.563Y0.375F10.0  
   G91  
   G1Z-0.063F10.0  
   G90  
   G2X1.125Y-0.063I-0.438J0.0F10.0  
   G1X0.375F10.0  
   G2X-0.063Y0.375I0.0J0.438F10.0  
   G1Y2.0F10.0  
   G2X1.563Y2.0I0.813J0.0F10.0  
   G1X1.563Y0.375F10.0  
   G91  
   G1Z-0.063F10.0  
   G90  
   G2X1.125Y-0.063I-0.438J0.0F10.0  
   G1X0.375F10.0  
   G2X-0.063Y0.375I0.0J0.438F10.0  
   G1Y2.0F10.0  
   G2X1.563Y2.0I0.813J0.0F10.0  
   G1X1.563Y0.375F10.0  
   G91  
   G1Z-0.063F10.0  
   G90  
   G2X1.125Y-0.063I-0.438J0.0F10.0  
   G1X0.375F10.0  
   G2X-0.063Y0.375I0.0J0.438F10.0  
   G1Y2.0F10.0  
   G2X1.563Y2.0I0.813J0.0F10.0  
   G1X1.563Y0.375F10.0  
   G91  
   G1Z-0.063F10.0  
   G90  
   G2X1.125Y-0.063I-0.438J0.0F10.0  
   G1X0.375F10.0  
   G2X-0.063Y0.375I0.0J0.438F10.0  
   G1Y2.0F10.0  
   G2X1.563Y2.0I0.813J0.0F10.0  
   G1X1.563Y0.375F10.0  
   G91  
   G1Z-0.063F10.0  
   G90  
   G2X1.125Y-0.063I-0.438J0.0F10.0  
   G1X0.375F10.0  
   G2X-0.063Y0.375I0.0J0.438F10.0  
   G1Y2.0F10.0  
   G2X1.563Y2.0I0.813J0.0F10.0  
   G1X1.563Y0.375F10.0  
   G91  
   G1Z-0.063F10.0  
   G90  
   G2X1.125Y-0.063I-0.438J0.0F10.0  
   G1X0.375F10.0  
   G2X-0.063Y0.375I0.0J0.438F10.0  
   G1Y2.0F10.0  
   G2X1.563Y2.0I0.813J0.0F10.0  
   G1X1.563Y0.375F10.0  
   G91  
   G1Z-0.063F10.0  
   G90  
   G2X1.125Y-0.063I-0.438J0.0F10.0  
   G1X0.375F10.0  
   G2X-0.063Y0.375I0.0J0.438F10.0  
   G1Y2.0F10.0  
   G2X1.563Y2.0I0.813J0.0F10.0  
   G1X1.563Y0.375F10.0  
   G91  
   G1Z-0.063F10.0  
   G90  
   G2X1.125Y-0.063I-0.438J0.0F10.0  
   G1X0.375F10.0  
   G2X-0.063Y0.375I0.0J0.438F10.0  
   G1Y2.0F10.0  
   G2X1.563Y2.0I0.813J0.0F10.0  
   G1X1.563Y0.375F10.0  
   G91  
   G1Z-0.063F10.0  
   G90  
   G2X1.125Y-0.063I-0.438J0.0F10.0  
   G1X0.375F10.0  
   G2X-0.063Y0.375I0.0J0.438F10.0  
   G1Y2.0F10.0  
   G2X1.563Y2.0I0.813J0.0F10.0  
   G1X1.563Y0.375F10.0  
   G91  
   G1Z-0.063F10.0  
   G90  
   G2X1.125Y-0.063I-0.438J0.0F10.0  
   G1X0.375F10.0  
   G2X-0.063Y0.375I0.0J0.438F10.0  
   G1Y2.0F10.0  
   G2X1.563Y2.0I0.813J0.0F10.0  
   G1X1.563Y0.375F10.0  
   G91  
   G1Z-0.063F10.0  
   G90  
   G2X1.125Y-0.063I-0.438J0.0F10.0  
   G1X0.375F10.0  
   G2X-0.063Y0.375I0.0J0.438F10.0  
   G1Y2.0F10.0  
   G2X1.563Y2.0I0.813J0.0F10.0  
   G1X1.563Y0.375F10.0  
   G91  
   G1Z-0.063F10.0  
   G90  
   G2X1.125Y-0.063I-0.438J0.0F10.0  
   G1X0.375F10.0  
   G2X-0.063Y0.375I0.0J0.438F10.0  
   G1Y2.0F10.0  
   G2X1.563Y2.0I0.813J0.0F10.0  
   G1X1.563Y0.375F10.0  
   G0Z0.25  
   G0X0.0Y0.0  
   G1Z0.0  

This application was authored by Nick Edwards in 2015-2016. To contribute to this code base, create a pull request to https://github.com/edwardsCNC/Mill-Clamp